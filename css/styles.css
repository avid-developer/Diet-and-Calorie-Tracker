.summary-controls { display:flex; flex-wrap:wrap; gap:0.5rem; align-items:flex-end; margin-bottom:0.6rem }
.summary-controls .inline-form { display:flex; gap:0.5rem; flex-wrap:wrap; align-items:flex-end }
.summary-controls label { display:flex; flex-direction:column; font-size:0.9rem; color:#4a5568 }
.summary-controls input[type="date"] { padding:0.3rem 0.4rem }
* { box-sizing: border-box; }
body { font-family: system-ui, -apple-system, 'Segoe UI', Roboto, sans-serif; margin: 0; padding: 1rem; background: #f7f7f9; color:#222 }
header { margin-bottom: 1rem }
h1 { margin: 0 }
main { display: grid; grid-template-columns: 1fr; gap: 1rem; max-width: 900px; margin: 0 auto }
section { background: #fff; padding: 1rem; border-radius: 8px; box-shadow: 0 1px 3px rgba(0,0,0,0.06) }
#food-list { margin-top: 0.5rem }
.food-item { display:flex; justify-content:space-between; padding:0.4rem 0; border-bottom:1px solid #eee }
button { background:#2b6cb0; color:white; border:none; padding:0.45rem 0.7rem; border-radius:4px; cursor:pointer }
button.secondary { background:#4a5568 }
button.danger { background:#e53e3e }
button.link-button { background:none; border:none; padding:0; color:#2b6cb0; text-decoration:underline; font:inherit; cursor:pointer }
button.link-button:hover, button.link-button:focus { text-decoration:none }
input { padding:0.4rem; margin-right:0.4rem }
form > input { margin-bottom:0.4rem }
form .food-macros { display:flex; gap:0.4rem; flex-wrap:wrap; margin-bottom:0.4rem }
form .food-macros input { flex:1 1 100px }
form .form-actions { display:flex; gap:0.5rem; margin-top:0.3rem }
#food-feedback { margin:0.5rem 0; color:#2f855a; min-height:1rem; font-weight:500 }
#food-feedback.info { color:#2b6cb0 }
#food-feedback.error { color:#c53030 }
form .row { display:flex; gap:0.5rem; flex-wrap:wrap }
form .row label { flex:1; display:flex; flex-direction:column; min-width:160px }
.meal-items { margin:0.6rem 0 }
.meal-item-row { display:grid; grid-template-columns: 2fr 1fr auto; gap:0.5rem; align-items:center; margin-bottom:0.4rem }
.meal-item-row select, .meal-item-row input { width:100%; padding:0.4rem }
.meal-item-row button { padding:0.4rem 0.6rem }
.meal-total { font-weight:600; margin:0.5rem 0; display:flex; flex-direction:column; gap:0.3rem }
.meal-total-macros { display:flex; gap:0.75rem; font-size:0.9rem; font-weight:500 }
.meal-total-macros span { color:#2d3748 }
.macro-breakdown { display:flex; flex-wrap:wrap; gap:0.8rem; margin-top:0.75rem }
.macro-breakdown .macro { display:flex; flex-direction:column; font-weight:600 }
.macro-breakdown .macro span { font-size:0.85rem; font-weight:500; color:#4a5568 }
#meal-feedback { margin-top:0.5rem; min-height:1.1rem; font-weight:500 }
#meal-feedback.info { color:#2b6cb0 }
#meal-feedback.success { color:#2f855a }
#meal-feedback.error { color:#c53030 }
#meal-list { margin-top:1rem; display:flex; flex-direction:column; gap:0.6rem }
.meal-entry { border:1px solid #e2e8f0; border-radius:6px; padding:0.75rem }
.meal-entry header { display:flex; justify-content:space-between; align-items:center; margin-bottom:0.4rem }
.meal-entry ul { padding-left:1.1rem; margin:0.4rem 0 }
.meal-entry footer { display:flex; justify-content:space-between; align-items:center; margin-top:0.4rem; font-size:0.9rem; color:#4a5568 }
.summary-card { background:#f8fafc; border:1px solid #e2e8f0; border-radius:8px; padding:0.75rem; margin-bottom:0.75rem }
.summary-card h3 { margin-top:0; margin-bottom:0.5rem }
.daily-summary .metrics { display:flex; flex-wrap:wrap; gap:0.75rem; align-items:center }
.metric { display:flex; flex-direction:column; font-weight:600 }
.metric span { font-size:0.85rem; font-weight:500; color:#4a5568 }
.progress-wrapper { width:100%; max-width:320px }
.progress-track { width:100%; height:12px; background:#e2e8f0; border-radius:6px; overflow:hidden }
.progress-bar { height:100%; background:#38a169 }
.progress-bar.over { background:#e53e3e }
.weekly-summary table { width:100%; border-collapse:collapse }
.weekly-summary th, .weekly-summary td { text-align:left; padding:0.35rem 0.25rem; border-bottom:1px solid #e2e8f0; font-size:0.9rem; white-space:nowrap }
.weekly-summary tr:last-child td { border-bottom:none }
.weekly-summary .summary-range { margin:0 0 0.35rem; font-size:0.9rem; color:#4a5568 }
.summary-status { font-weight:600 }
.summary-status.over { color:#c53030 }
.summary-status.under { color:#2f855a }
.summary-status.no-goal { color:#4a5568 }
.weekly-chart-wrapper { margin-top:0.75rem }
.weekly-chart-title { margin:0 0 0.4rem; font-size:0.9rem; font-weight:600; color:#2d3748 }
.weekly-chart { display:flex; gap:0.5rem; align-items:flex-end; min-height:150px; overflow-x:auto; padding-bottom:0.25rem }
.chart-bar { flex:1; display:flex; flex-direction:column; align-items:center; gap:0.35rem; min-width:48px; position:relative }
.chart-bar-track { width:100%; background:#edf2f7; border-radius:6px; height:120px; display:flex; align-items:flex-end; justify-content:center; padding:0 0.35rem }
.chart-bar-fill { width:100%; border-radius:4px 4px 0 0; background:linear-gradient(180deg,#63b3ed 0%, #3182ce 100%); transition:height 0.3s ease }
.chart-bar-value { font-size:0.75rem; font-weight:600; color:#2b6cb0 }
.chart-bar-label { font-size:0.75rem; color:#4a5568; letter-spacing:0.05em }
.weekly-chart::-webkit-scrollbar { height:6px }
.weekly-chart::-webkit-scrollbar-thumb { background:#cbd5e0; border-radius:3px }
.chart-bar:focus-visible { outline:2px solid #2b6cb0; outline-offset:2px }
.modal { position:fixed; inset:0; background:rgba(0,0,0,0.45); display:flex; justify-content:center; align-items:center; padding:1rem; z-index:1000 }
.modal[hidden] { display:none !important; pointer-events:none }
.modal-content { background:#fff; border-radius:10px; padding:1.25rem; max-width:520px; width:100%; max-height:90vh; overflow:auto; box-shadow:0 10px 30px rgba(0,0,0,0.2) }
.modal-header { display:flex; justify-content:space-between; align-items:center; gap:1rem; margin-bottom:0.75rem }
.modal-body { display:flex; flex-direction:column; gap:1rem }
.modal-open { overflow:hidden }
.macro-dist-bar { display:flex; width:100%; height:18px; border-radius:9px; overflow:hidden; background:#e2e8f0 }
.macro-dist-segment { height:100% }
.macro-dist-segment.protein { background:linear-gradient(90deg,#9ae6b4 0%,#48bb78 100%) }
.macro-dist-segment.carbs { background:linear-gradient(90deg,#fbd38d 0%,#ed8936 100%) }
.macro-dist-segment.fat { background:linear-gradient(90deg,#feb2b2 0%,#e53e3e 100%) }
.macro-dist-table { width:100%; border-collapse:collapse }
.macro-dist-table th, .macro-dist-table td { text-align:left; padding:0.45rem 0.35rem; border-bottom:1px solid #e2e8f0 }
.macro-dist-table tr:last-child td { border-bottom:none }
.macro-dist-table th { font-weight:600 }
small { color:#666 }
@media(min-width:800px){ main{grid-template-columns: 1fr 1fr} }
